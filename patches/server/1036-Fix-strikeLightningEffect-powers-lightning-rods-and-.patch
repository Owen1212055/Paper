From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Tamion <70228790+notTamion@users.noreply.github.com>
Date: Sat, 30 Sep 2023 12:36:14 +0200
Subject: [PATCH] Fix strikeLightningEffect powers lightning rods and clears
 copper


diff --git a/src/main/java/net/minecraft/world/entity/LightningBolt.java b/src/main/java/net/minecraft/world/entity/LightningBolt.java
index 255fb5e922c63130708e4bcab208b4db52a58387..6add11c5741027051ff09624864be3a9871a5e66 100644
--- a/src/main/java/net/minecraft/world/entity/LightningBolt.java
+++ b/src/main/java/net/minecraft/world/entity/LightningBolt.java
@@ -86,7 +86,7 @@ public class LightningBolt extends Entity {
     @Override
     public void tick() {
         super.tick();
-        if (!this.isSilent && this.life == 2) { // Spigot
+        if (!this.visualOnly && !this.isSilent && this.life == 2) { // Spigot // Paper
             if (this.level().isClientSide()) {
                 this.level().playLocalSound(this.getX(), this.getY(), this.getZ(), SoundEvents.LIGHTNING_BOLT_THUNDER, SoundSource.WEATHER, 10000.0F, 0.8F + this.random.nextFloat() * 0.2F, false);
                 this.level().playLocalSound(this.getX(), this.getY(), this.getZ(), SoundEvents.LIGHTNING_BOLT_IMPACT, SoundSource.WEATHER, 2.0F, 0.5F + this.random.nextFloat() * 0.2F, false);
